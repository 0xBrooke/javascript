<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>a==1 a==2 a==3</title>
    <link rel="stylesheet" href="../css/common.css">
</head>

<body>
    <div>
        <ul>
            <li><a href="https://www.jianshu.com/p/acf797bdbe98">简书上的例子</a></li>
            <li><a href="http://www.fly63.com/article/detial/851?type=3">前端网详解</a></li>
            <li><a href="https://segmentfault.com/a/1190000007434923"> Object.defineProperty() 属性详解</a></li>
        </ul>
    </div>

</body>
<script>
    // 如果是个对象
    var a = { value: 0 }
    a.valueOf = function () {
        return this.value += 1
    }
    if (a == 1 && a == 2 && a == 3) {
        console.log("a今天我又进步了")
    } else {
        console.log("你不想让a相等吗？")
    }

    // 如果是个数组 
    var b = [1, 2, 3];
    b.join = b.shift;
    if (b == 1 && b == 2 && b == 3) {
        console.log("a今天我又进步了")
    } else {
        console.log("你不想让a相等吗？")
    }

    // 通过proxy 进行拦截操作
    var c = new Proxy({ i: 0 }, {
        get(target) {
            return () => target.i += 1;
        }
    })

    if (c == 1 && c == 2 && c == 3) {
        console.log("c今天我又进步了")
    } else {
        console.log("你不想让c相等吗？")
    }

    // 方法四 也适合严格相等   ===
    // 重新定义 window 对象中的a 属性
    var value = 0; //window.value
    Object.defineProperty(window, "d", {
        get: function () {
            return this.value += 1
        },
        set: function (value) {
            console.log(value)
            d = value
        }
    })
    if (d == 1 && d == 2 && d == 3) {
        console.log("d今天我又进步了")
    } else {
        console.log("你不想让d相等吗？")
    }

    var obj = new Object();
    obj.name = "xia";
    var initValue = 'hello'
    console.log(obj)
    Object.defineProperty(obj, "age", {
        // 获取值，还可以再次进行操作，
        get: function () {
            return initValue + "affa";
        },
        // get完以后要注意 return 回去，set再次进行赋值
        set: function (value) {
            initValue = value;
        }
    });
    console.log(obj.age)
    //get或set不是必须成对出现，任写其一就可以。如果不设置方法，

    
</script>

</html>